@layer utils {
  .checker {
    --sizeX: 2rlh;
    --sizeY: 2rlh;
    --color: var(--fg-border);
    background-image:
      linear-gradient(to right, var(--color) 1.5px, transparent 1.5px),
      linear-gradient(var(--color) 1.5px, transparent 1.5px);
    background-size: var(--sizeX) var(--sizeY);
    background-position: center 0px;
  }

  .flex {
    --gap: 2rlh;
    display: flex;
    flex-direction: row;
    gap: var(--gap);
    flex-wrap: wrap;
    align-content: flex-start;
  }

  .brackets {
    &::before {
      content: "[";
    }
    &::after {
      content: "]";
    }
  }

  .divider,
  hr {
    height: 1.5px;
    box-shadow: 0 1.5px 0 0 var(--fg-border) inset;
    margin-block-start: 2rlh;
    margin-block-end: 2rlh;
  }

  .grid-parent {
    --margin: minmax(0, 1fr);
    --gridSize: 48px;
    --unit-size: min(var(--gridSize), calc(48 / 1296 * 100vw));
    --gap: var(--unit-size);
    --startEndWidth: calc(23 * var(--unit-size));

    display: grid;
    column-gap: var(--gap);
    grid-template-columns:
      [bleedstart]
      var(--margin)
      [start]
      repeat(12, var(--unit-size))
      [end]
      var(--margin)
      [bleedend];
    & > * {
      grid-column: start / end;
    }
  }
  .cubicGradient {
    --direction: bottom;
    --cubicColor: var(--navy);
    [data-theme="light"] & {
      --cubicColor: var(--cyan);
    }
    [data-theme="dark"] & {
      --cubicColor: var(--navy);
    }
    background: linear-gradient(
      to var(--direction),
      hsl(var(--cubicColor) / 1) 0%,
      hsla(var(--cubicColor) / 0.987) 5.6%,
      hsla(var(--cubicColor) / 0.951) 10.5%,
      hsla(var(--cubicColor) / 0.896) 14.8%,
      hsla(var(--cubicColor) / 0.825) 18.9%,
      hsla(var(--cubicColor) / 0.741) 22.8%,
      hsla(var(--cubicColor) / 0.648) 26.8%,
      hsla(var(--cubicColor) / 0.55) 31.2%,
      hsla(var(--cubicColor) / 0.45) 36%,
      hsla(var(--cubicColor) / 0.352) 41.5%,
      hsla(var(--cubicColor) / 0.259) 47.9%,
      hsla(var(--cubicColor) / 0.175) 55.3%,
      hsla(var(--cubicColor) / 0.104) 64.1%,
      hsla(var(--cubicColor) / 0.049) 74.3%,
      hsla(var(--cubicColor) / 0.013) 86.2%,
      hsla(var(--cubicColor) / 0) 100%
    );
  }

  @property --s {
    syntax: "<integer>";
    inherits: false;
    initial-value: 1;
  }

  .halftone {
    position: absolute;
    pointer-events: none;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 0;
    mask:
      linear-gradient(to bottom, transparent, white),
      radial-gradient(circle at 50% 50%, white 1.25px, transparent 1.25px) 0%
        0% / 0.5rlh 0.5rlh,
      url("../assets/noise.png") 0% 0% / 300% 300%;

    mask-composite: intersect;
    animation: noise 120s infinite linear;

    &:before {
      background: repeating-radial-gradient(
        circle at center,
        transparent 0%,
        var(--bg) 10%,
        var(--bg-tertiary) 20%,
        transparent 24%
      );
      animation: pulse 6s infinite linear;
      animation-delay: 3s;
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      opacity: 0;
    }
    &:after {
      background: repeating-radial-gradient(
        circle at center,
        transparent 0%,
        var(--accent) 20%,
        transparent 24%
      );
      animation: pulse 6s infinite linear;

      content: "";
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      opacity: 0;
    }
  }

  @keyframes pulse {
    80% {
      opacity: 1;
    }
    100% {
      transform: scale(calc(var(--s) * 2));
      opacity: 0;
    }
  }

  @keyframes noise {
    to {
      mask-position:
        0 0,
        0 0,
        200% 0%;
    }
  }
}

@layer spacing {
  .py-1 {
    padding-block-start: 1rlh;
    padding-block-end: 1rlh;
  }
  .py-2 {
    padding-block-start: 2rlh;
    padding-block-end: 2rlh;
  }
  .py-3 {
    padding-block-start: 3rlh;
    padding-block-end: 3rlh;
  }
  .py-4 {
    padding-block-start: 4rlh;
    padding-block-end: 4rlh;
  }
  .py-5 {
    padding-block-start: 6rlh;
    padding-block-end: 6rlh;
  }
  .py-6 {
    padding-block-start: 8rlh;
    padding-block-end: 8rlh;
  }

  .pb-1 {
    padding-block-end: 1rlh;
  }
  .pb-2 {
    padding-block-end: 2rlh;
  }
  .pb-3 {
    padding-block-end: 3rlh;
  }
  .pb-4 {
    padding-block-end: 4rlh;
  }
  .pb-5 {
    padding-block-end: 6rlh;
  }
  .pb-6 {
    padding-block-end: 8rlh;
  }
  .pb-8 {
    padding-block-end: 10rlh;
  }

  .my-1 {
    margin-block-start: 1rlh;
    margin-block-end: 1rlh;
  }
  .my-2 {
    margin-block-start: 2rlh;
    margin-block-end: 2rlh;
  }
  .my-3 {
    margin-block-start: 3rlh;
    margin-block-end: 3rlh;
  }
  .my-4 {
    margin-block-start: 4rlh;
    margin-block-end: 4rlh;
  }

  .mt-1 {
    margin-block-start: 1rlh;
  }
  .mt-2 {
    margin-block-start: 2rlh;
  }
  .mt-3 {
    margin-block-start: 3rlh;
  }
  .mt-4 {
    margin-block-start: 4rlh;
  }

  .mb-1 {
    margin-block-end: 1rlh;
  }
  .mb-2 {
    margin-block-end: 2rlh;
  }
  .mb-3 {
    margin-block-end: 3rlh;
  }
  .mb-4 {
    margin-block-end: 4rlh;
  }
}
